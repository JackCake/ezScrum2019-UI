*** Settings ***
Library           keywords/lib/Selenium2Improved.py
Resource          keywords/Common_Resource.txt
Resource          keywords/Product_Backlog/Product_Backlog_Setup.txt

*** Test Cases ***
Add Backlog Item Test
    [Setup]    Add Backlog Item Setup
    Select Page    Product Backlog
    ${description}    Set Variable    As a user, I want to add the backlog item in the product backlog.
    ${estimate}    Set Variable    3
    ${importance}    Set Variable    100
    Add Backlog Item    ${description}    ${estimate}    ${importance}
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${description}"]
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${estimate}"]
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${importance}"]
    [Teardown]    Exit ezScrum2019

Edit Backlog Item Test
    [Setup]    Edit Backlog Item Setup
    Select Page    Product Backlog
    ${original_description}    Set Variable    As a user, I want to add the backlog item in the product backlog.
    ${new_description}    Set Variable    As a user, I want to edit the backlog item in the product backlog.
    ${estimate}    Set Variable    2
    ${importance}    Set Variable    80
    Edit Backlog Item    ${original_description}    ${new_description}    ${estimate}    ${importance}
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${new_description}"]
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${estimate}"]
    Wait Until Keyword Succeeds    30s    3s    Page Should Contain Element    //td[text()="${importance}"]
    [Teardown]    Exit ezScrum2019

Delete Backlog Item Test
    [Setup]    Delete Backlog Item Setup
    Select Page    Product Backlog
    ${description}    Set Variable    As a user, I want to add the backlog item in the product backlog.
    Delete Backlog Item    ${description}
    Wait Until Keyword Succeeds    30s    3s    Page Should Not Contain Element    //td[text()="${description}"]
    [Teardown]    Exit ezScrum2019
